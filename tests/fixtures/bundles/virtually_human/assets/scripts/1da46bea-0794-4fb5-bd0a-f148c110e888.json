{
  "type": "script",
  "uuid": "1da46bea-0794-4fb5-bd0a-f148c110e888",
  "name": "1da46bea-0794-4fb5-bd0a-f148c110e888_script",
  "description": "",
  "source": "integer effectFlags=0;\ninteger running=TRUE;\n//\n///////////////////////////////////////////////////////\n// Color Secelection Variables\n///////////////////////////////////////////////////////\n// Interpolate between startColor and endColor\ninteger colorInterpolation  = TRUE;\n// Starting color for each particle \nvector  startColor          = <0.15, 0.4, 0.75>;\n// Ending color for each particle\nvector  endColor            = <0.2, 0.5, 1.0>;\n// Starting Transparency for each particle (1.0 is solid)\nfloat   startAlpha          = 1.0;\n// Ending Transparency for each particle (0.0 is invisible)\nfloat   endAlpha            = 0.2;\n// Enables Absolute color (true) ambient lighting (false)\ninteger glowEffect          = TRUE;\n\n\n///////////////////////////////////////////////////////\n// Size & Shape Selection Variables\n///////////////////////////////////////////////////////\n// Interpolate between startSize and endSize\ninteger sizeInterpolation   = TRUE;\n// Starting size of each particle\nvector  startSize           = <0.1, 0.1, 0.0>;\n// Ending size of each particle\nvector  endSize             = <0.6, 0.9, 0.0>;\n// Turns particles to face their movement direction\ninteger followVelocity      = TRUE;\n// Texture the particles will use (\"\" for default)\nstring  texture             = \"\";\n\n\n///////////////////////////////////////////////////////\n// Timing & Creation Variables Variables\n///////////////////////////////////////////////////////\n// Lifetime of one particle (seconds)\nfloat   particleLife        = 1.8;\n// Lifetime of the system 0.0 for no time out (seconds)\nfloat   SystemLife          = 0.0;\n// Number of seconds between particle emissions\nfloat   emissionRate        = 0.03;\n// Number of particles to releast on each emission\ninteger partPerEmission     = 1;\n\n\n///////////////////////////////////////////////////////\n// Angular Variables\n///////////////////////////////////////////////////////\n// The radius used to spawn angular particle patterns\nfloat   radius              = 0.01;\n// Inside angle for angular particle patterns\nfloat   innerAngle          = 0.1;\n// Outside angle for angular particle patterns\nfloat   outerAngle          = 0;\n// Rotational potential of the inner/outer angle\nvector  omega               = <0.0, 0.0, 0.1>;\n\n\n///////////////////////////////////////////////////////\n// Movement & Speed Variables\n///////////////////////////////////////////////////////\n// The minimum speed a particle will be moving on creation\nfloat   minSpeed            = 0.0;\n// The maximum speed a particle will be moving on creation\nfloat   maxSpeed            = 0.001;\n// Global acceleration applied to all particles\nvector  acceleration        = <0.0, 0.0, -0.5>;\n// If true, particles will be blown by the current wind\ninteger windEffect          = FALSE;\n// if true, particles 'bounce' off of the object's Z height\ninteger bounceEffect        = FALSE;\n// If true, particles spawn at the container object center\ninteger followSource        = FALSE;\n// If true, particles will move to expire at the target\n//integer followTarget        = TRUE;\n// Desired target for the particles (any valid object/av key)\n// target Needs to be set at runtime\nkey     target              = \"\";\n\n\n///////////////////////////////////////////////////////\n//As yet unimplemented particle system flags\n///////////////////////////////////////////////////////\ninteger randomAcceleration  = FALSE;\ninteger randomVelocity      = FALSE;\ninteger particleTrails      = FALSE;\n\n///////////////////////////////////////////////////////\n// Pattern Selection\n///////////////////////////////////////////////////////\n//   Uncomment the pattern call you would like to use\n//   Drop parcles at the container objects' center\n//integer pattern = PSYS_SRC_PATTERN_DROP;\n//   Burst pattern originating at objects' center\n//integer pattern = PSYS_SRC_PATTERN_EXPLODE;\n//   Uses 2D angle between innerAngle and outerAngle\ninteger pattern = PSYS_SRC_PATTERN_ANGLE;\n//   Uses 3D cone spread between innerAngle and outerAngle\n//integer pattern = PSYS_SRC_PATTERN_ANGLE_CONE;\n// \n//integer pattern = PSYS_SRC_PATTERN_ANGLE_CONE_EMPTY;\n\n\n\nsetParticles()\n{\n// Here is where to set the current target\n// llGetKey() targets this script's container object\n// llGetOwner() targets the owner of this script\n// Feel free to insert any other valid key\n    target=\"\";\n// The following block of if statements is used to construct the mask \n    if (colorInterpolation) effectFlags = effectFlags|PSYS_PART_INTERP_COLOR_MASK;\n    if (sizeInterpolation)  effectFlags = effectFlags|PSYS_PART_INTERP_SCALE_MASK;\n    if (windEffect)         effectFlags = effectFlags|PSYS_PART_WIND_MASK;\n    if (bounceEffect)       effectFlags = effectFlags|PSYS_PART_BOUNCE_MASK;\n    if (followSource)       effectFlags = effectFlags|PSYS_PART_FOLLOW_SRC_MASK;\n    if (followVelocity)     effectFlags = effectFlags|PSYS_PART_FOLLOW_VELOCITY_MASK;\n    if (target!=\"\")       effectFlags = effectFlags|PSYS_PART_TARGET_POS_MASK;\n    if (glowEffect)         effectFlags = effectFlags|PSYS_PART_EMISSIVE_MASK;\n//Uncomment the following selections once they've been implemented\n//    if (randomAcceleration) effectFlags = effectFlags|PSYS_PART_RANDOM_ACCEL_MASK;\n//    if (randomVelocity)     effectFlags = effectFlags|PSYS_PART_RANDOM_VEL_MASK;\n//    if (particleTrails)     effectFlags = effectFlags|PSYS_PART_TRAIL_MASK;\n    llParticleSystem([\n        PSYS_PART_FLAGS,            effectFlags,\n        PSYS_SRC_PATTERN,           pattern,\n        PSYS_PART_START_COLOR,      startColor,\n        PSYS_PART_END_COLOR,        endColor,\n        PSYS_PART_START_ALPHA,      startAlpha,\n        PSYS_PART_END_ALPHA,        endAlpha,\n        PSYS_PART_START_SCALE,      startSize,\n        PSYS_PART_END_SCALE,        endSize,    \n        PSYS_PART_MAX_AGE,          particleLife,\n        PSYS_SRC_ACCEL,             acceleration,\n        PSYS_SRC_TEXTURE,           texture,\n        PSYS_SRC_BURST_RATE,        emissionRate,\n        PSYS_SRC_INNERANGLE,        innerAngle,\n        PSYS_SRC_OUTERANGLE,        outerAngle,\n        PSYS_SRC_BURST_PART_COUNT,  partPerEmission,      \n        PSYS_SRC_BURST_RADIUS,      radius,\n        PSYS_SRC_BURST_SPEED_MIN,   minSpeed,\n        PSYS_SRC_BURST_SPEED_MAX,   maxSpeed, \n        PSYS_SRC_MAX_AGE,           SystemLife,\n        PSYS_SRC_TARGET_KEY,        target,\n        PSYS_SRC_OMEGA,             omega   ]);\n}\n\ndefault\n{\n    state_entry()\n    {\n        running=TRUE;\n        llSetText(\"\", <0.0, 1.0, 0.0>, 0.5);\n        setParticles();\n    }\n    \n    touch_start(integer num_detected)\n    {\n        if (running==TRUE)\n        {\n            running=FALSE;\n            //llSetText(\"Stopped\", <1.0, 0.0, 0.0>, 0.5);\n            llParticleSystem([]);\n        }\n        else\n        {\n            running=TRUE;\n            llSetText(\"\", <0.0, 1.0, 0.0>, 0.5);\n            setParticles();\n        }\n    }\n}\n",
  "creator": {
    "name": "",
    "uuid": "",
    "grid": ""
  },
  "permissions": {},
  "object_name": ""
}