{
  "type": "script",
  "uuid": "1e371fbe-465b-47a8-838a-a04e5d26b2bd",
  "name": "danceball",
  "description": "2013-02-07 05:02:29 lsl2 script",
  "source": "//LIMITATIONS:\n//-Maximun of 22 animations;\n//-Animation name must be lower then 24 characters \n//-You can't have an animtion named \"stand\". If you do, rename it to something else like \"Stand\", \"STAND\", \"_stand\", etc...\n// brought to this grid by minethere always\n// you can also use this as a chimera by making it transparent and phantom and wearing it where you wish\n\nlist ANIMS = [];\nlist ANIMS2 = [];\nlist BUFFER = [];\nkey chave;\ninteger listener;\ninteger i;\ninteger count = 0;\ninteger ini = 0;\ninteger final = 0;\n\nDialog(key chave, list BUFF)\n{\n    listener = llListen(777, \"\", NULL_KEY, \"\");\n    if ((chave == llGetPermissionsKey()) && (llGetPermissions() & PERMISSION_TRIGGER_ANIMATION))\n        llDialog(chave, \"Select the animation you want to play: \", BUFF, 777);\n    else\n        llRequestPermissions(llDetectedKey(0), PERMISSION_TRIGGER_ANIMATION);     \n}\n\ndefault\n{\n    on_rez(integer num)\n    {\n        llResetScript();\n    }    \n\n    state_entry()\n    { \n        for (i = 0; i < llGetInventoryNumber(INVENTORY_ANIMATION); i++)\n        ANIMS += [llGetInventoryName(INVENTORY_ANIMATION, i)];\n    }\n    \n    touch_start(integer total_number)\n    {\n        chave = llDetectedKey(0);\n        ini = 0;\n        final = 8;\n        BUFFER = [\"STOP\"] + [\"MORE...\"] + [\"...BACK\"] + llList2List(ANIMS, ini, final);\n        Dialog(chave, BUFFER);\n    }\n    \n    run_time_permissions(integer perm) \n    {\n        if ((chave == llGetPermissionsKey()) && (llGetPermissions() & PERMISSION_TRIGGER_ANIMATION))\n        {\n            ini = 0;\n            final = 8;\n            BUFFER = [\"STOP\"] + [\"MORE...\"] + [\"...BACK\"] + llList2List(ANIMS, ini, final);\n            Dialog(chave, BUFFER);\n        }     \n    }\n    \n    \n    listen(integer channel, string name, key id, string message) \n    {\n        if (channel == 777)\n        {\n            llListenRemove(listener);  \n            if (message == \"MORE...\")\n            {\n                if (final < llGetInventoryNumber(INVENTORY_ANIMATION) - 1)\n                {                \n                    ini += 9;\n                    final += 9;\n                }\n                BUFFER = [\"STOP\"] + [\"MORE...\"] + [\"...BACK\"] + llList2List(ANIMS, ini, final);\n                Dialog(chave, BUFFER);\n            }\n            else if (message == \"...BACK\")\n            {\n                if (final >= llGetInventoryNumber(INVENTORY_ANIMATION) - 1)\n                { \n                    ini -= 9;\n                    final -= 9;\n                }\n                BUFFER = [\"STOP\"] + [\"MORE...\"] + [\"...BACK\"] + llList2List(ANIMS, ini, final);\n                Dialog(chave, BUFFER);\n            }        \n            else if (message == \"STOP\")\n            {\n                list anims = llGetAnimationList(llGetPermissionsKey());        // get list of animations\n                integer len = llGetListLength(anims);\n                for (i = 0; i < len; ++i)\n                { \n                    llStopAnimation(llList2Key(anims, i));\n                    llSleep(0.2);\n                }\n                llStartAnimation(\"stand\");\n                Dialog(id, BUFFER);                \n            } \n            else                    \n            { \n                list anims = llGetAnimationList(llGetPermissionsKey());        // get list of animations\n                integer len = llGetListLength(anims);\n                for (i = 0; i < len; ++i)\n                { \n                    llStopAnimation(llList2Key(anims, i));\n                    llSleep(0.2);\n                }\n                llStartAnimation(\"stand\");\n                llStartAnimation(message);\n                Dialog(id, BUFFER);\n            }      \n        }\n    }  \n        \n}\n",
  "creator": {
    "name": "Minetheree.Athanasios @hg.metro.land:80",
    "uuid": "7734623f-6ca8-4116-9f3d-89aee878a11b",
    "grid": "http://grid.kitely.com:8002"
  },
  "permissions": {
    "base": 581632,
    "current": 581632,
    "next": 581632,
    "everyone": 0,
    "group": 0
  },
  "object_name": "danceball/chimera female"
}